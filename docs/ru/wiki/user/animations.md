# Система анимаций

CraftMenu предоставляет мощную систему анимаций с 19 типами анимаций и 6 функциями сглаживания.

## Типы анимаций

### Анимации движения

| Тип | Описание |
|-----|----------|
| `translate` | Перемещение позиции виджета |
| `bounce` | Эффект подпрыгивания |
| `float` | Плавное парение вверх/вниз |
| `orbit` | Круговое орбитальное движение |

### Анимации вращения

| Тип | Описание |
|-----|----------|
| `rotate` | Непрерывное вращение |
| `swing` | Маятниковое качание |
| `flip` | Переворот на 180 градусов |
| `wobble` | Покачивание |
| `spiral` | Спиральное движение |

### Анимации масштабирования

| Тип | Описание |
|-----|----------|
| `scale` | Изменение размера |
| `pulse` | Ритмичная пульсация |
| `squeeze` | Сжатие/растяжение |
| `zoom_in` | Эффект приближения |

### Визуальные анимации

| Тип | Описание |
|-----|----------|
| `fade` | Изменение прозрачности |
| `glow` | Эффект свечения |
| `shake` | Тряска |
| `jiggle` | Дрожание |
| `wave` | Волновое движение |

## Базовое использование анимаций

```yaml
events:
  on_cursor_hover:
    - action: animation
      effect: scale
      duration: 200
      scale: {x: 1.1, y: 1.1, z: 1.1}
```

## Свойства анимаций

### Общие свойства

```yaml
- action: animation
  effect: pulse           # Тип анимации (обязательно)
  duration: 1000          # Длительность в миллисекундах
  easing_style: ease_out  # Функция сглаживания
  intensity: 1.0          # Интенсивность эффекта
  priority: false         # Блокировать другие действия?
```

### Свойства для конкретных эффектов

**Rotate:**
```yaml
- action: animation
  effect: rotate
  duration: 2000
  rotate: {x: 0, y: 360, z: 0}  # Градусы
```

**Scale:**
```yaml
- action: animation
  effect: scale
  duration: 200
  scale: {x: 1.2, y: 1.2, z: 1.2}
```

**Fade:**
```yaml
- action: animation
  effect: fade
  duration: 500
  fade: true  # true = исчезновение, false = появление
```

## Функции сглаживания

| Сглаживание | Описание |
|-------------|----------|
| `linear` | Постоянная скорость |
| `ease_in` | Медленный старт |
| `ease_out` | Медленное окончание |
| `ease_in_out` | Медленное начало и конец |
| `bounce` | Эффект отскока |
| `elastic` | Пружинящий эффект |

### Примеры сглаживания

```yaml
# Плавный эффект наведения
- action: animation
  effect: scale
  duration: 200
  scale: {x: 1.1, y: 1.1, z: 1.1}
  easing_style: ease_out

# Прыгучая обратная связь клика
- action: animation
  effect: scale
  duration: 300
  scale: {x: 0.9, y: 0.9, z: 0.9}
  easing_style: bounce
```

## Приоритет анимаций

Используйте `priority: true` для обеспечения завершения анимации перед другими действиями:

```yaml
events:
  on_cursor_click:
    - action: animation
      effect: scale
      duration: 200
      scale: {x: 1.2, y: 1.2, z: 1.2}
      priority: true          # Блокирует следующее действие

    - action: command
      command: "[CLOSE]"      # Ожидает завершения анимации
```

## Остановка анимаций

```yaml
- action: stop_animation
  animation_type: rotate      # Остановить конкретный тип
  # или
  type: all                   # Остановить все анимации
```

## Непрерывные анимации

Определите анимации, которые выполняются постоянно, в конфигурации виджета:

```yaml
widgets:
  spinning_icon:
    type: IMAGE
    visual:
      normal: {type: image, value: template/icon.png}
    continuous_animations:
      - type: rotate
        duration: 3000
        rotate: {x: 0, y: 360, z: 0}
        easing_style: linear
```

## Лучшие практики

1. Сохраняйте длительность до 500мс для отзывчивой обратной связи
2. Используйте `ease_out` для эффектов наведения
3. Используйте `bounce` для обратной связи кликов
4. Избегайте нескольких одновременных анимаций на одном виджете
5. Тестируйте анимации на разном оборудовании
