# Устранение неполадок

Распространенные проблемы и решения для CraftMenu.

## Изображения не отображаются

**Симптом:** Изображения показываются как "?" или отсутствующие символы.

**Решения:**

1. **Перегенерируйте ресурспак:**
   ```
   /cm zip
   ```

2. **Проверьте расположение изображений:**
   - Изображения должны быть в подпапках: `plugins/CraftMenu/images/folder/image.png`
   - НЕ в корне: `plugins/CraftMenu/images/image.png`

3. **Проверьте формат изображений:**
   - Поддерживаются только PNG-файлы
   - Убедитесь в правильном расширении файла (`.png`, а не `.PNG`)

4. **Проверьте загрузку ресурспака:**
   - Серверный ресурспак должен быть настроен
   - Игрок должен принять ресурспак

5. **Перезагрузите плагин:**
   ```
   /cm reload
   ```

## Меню не открывается

**Симптом:** Команда `/cm open` ничего не делает.

**Решения:**

1. **Проверьте существование меню:**
   ```
   /cm list
   ```

2. **Проверьте консоль на наличие ошибок** после выполнения команды

3. **Проверьте синтаксис YAML:**
   - Используйте YAML-валидатор
   - Проверьте правильность отступов

4. **Убедитесь в корректности местоположения спавна:**
   - Мир должен быть загружен
   - Местоположение должно быть доступно

## Столкновения не работают

**Симптом:** Курсор не обнаруживает виджеты.

**Решения:**

1. **Включите отладочные частицы:**
   ```
   /debugcollision toggle
   ```

2. **Проверьте конфигурацию столкновений:**
   ```yaml
   collision:
     enabled: true
     size: {x: 0.1, y: 0.1, z: 0.1}
   ```

3. **Увеличьте размер области столкновений** если она слишком мала

4. **Проверьте позицию виджета** - столкновение может быть смещено

## Звуки не воспроизводятся

**Симптом:** Звуковые действия не имеют эффекта.

**Решения:**

1. **Для пользовательских звуков:**
   - Поместите `.ogg` файлы в `plugins/CraftMenu/sounds/folder/`
   - Перегенерируйте ресурспак: `/cm zip`

2. **Для звуков Minecraft:**
   - Используйте правильный формат: `minecraft:ui.button.click`

3. **Проверьте настройки громкости** в конфигурации действия

## Проблемы с производительностью

**Симптом:** Задержки при использовании меню.

**Решения:**

1. **Оптимизируйте изображения:**
   ```
   /cm images scan
   /cm images fix --backup
   ```

2. **Уменьшите частоту анимаций** в сложных меню

3. **Отключите режим отладки:**
   ```yaml
   craftmenu:
     general:
       debug: false
   ```

4. **Увеличьте интервал обновления:**
   ```yaml
   craftmenu:
     performance:
       update-interval: 2
   ```

## Плагин не загружается

**Симптом:** Плагин показывает ошибки при запуске.

**Решения:**

1. **Проверьте версию Java:**
   - Требуется Java 17 или выше

2. **Проверьте зависимости:**
   - PacketEvents должен быть установлен

3. **Проверьте версию сервера:**
   - Требуется Minecraft 1.20.4+

4. **Изучите логи запуска** для конкретных ошибок

5. **Попробуйте восстановление:**
   ```
   /cm recover
   ```

## Ошибки YAML

**Симптом:** Ошибки упоминают парсинг YAML.

**Распространенные проблемы:**

1. **Неправильные отступы:**
   ```yaml
   # Неправильно
   widgets:
   my_widget:
     type: IMAGE

   # Правильно
   widgets:
     my_widget:
       type: IMAGE
   ```

2. **Отсутствие кавычек вокруг специальных значений:**
   ```yaml
   # Неправильно - & имеет специальное значение
   title: &bПривет

   # Правильно
   title: "&bПривет"
   ```

3. **Неправильный формат списка:**
   ```yaml
   # Неправильно
   events:
     on_cursor_click:
       action: sound

   # Правильно
   events:
     on_cursor_click:
       - action: sound
   ```

## Получение помощи

Если у вас все еще есть проблемы:

1. Включите режим отладки и проверьте вывод консоли
2. Проверьте GitHub issues на наличие известных проблем
3. Создайте новый issue с:
   - Версией сервера
   - Версией плагина
   - Логами консоли
   - Конфигурационными файлами (удалите конфиденциальные данные)
